{"history":[{"time":1706074586593,"state":{"pages":[],"viewState":{"sidebarOpen":true,"openPage":[]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706188212515,"state":{"pages":[{"id":0,"name":"Introduction","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"# Tables","note":{"type":"text","tag":"h1","text":"Tables"}}},{"id":41,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":7,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"As such, it is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?).","note":{"type":"text","tag":"p","text":"As such, it is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?)."}}},{"id":4,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"<span className=\"text-sm text-gray-500\">Note: Cmd/Meta/Ctrl can be used interchangeably in shortcuts</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-500\">Note: Cmd/Meta/Ctrl can be used interchangeably in shortcuts</span>"}}},{"id":44,"name":"","visibility":"block","state":{"v":0,"level":1,"input":"<span className=\"text-sm text-gray-500\">(this can be especially useful to circumvent the browser capturing a shortcut)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-500\">(this can be especially useful to circumvent the browser capturing a shortcut)</span>"}}},{"id":6,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Navigation can also be done via keyboard. Focus things with `Enter` and get out with `Escape`. Move with `hjkl` or the `ArrowKey`s.","note":{"type":"text","tag":"p","text":"Navigation can also be done via keyboard. Focus things with `Enter` and get out with `Escape`. Move with `hjkl` or the `ArrowKey`s."}}},{"id":8,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":24,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":25,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Tables gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"Tables gives you the full power of JavaScript and React."}}},{"id":26,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":28,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":43,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":10,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"## Usage","note":{"type":"text","tag":"h2","text":"Usage"}}},{"id":45,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"### Text","note":{"type":"text","tag":"h3","text":"Text"}}},{"id":46,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Just use Markdown","note":{"type":"text","tag":"p","text":"Just use Markdown"}}},{"id":47,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"*italic* **bold** [link](https://github.com/keenbug/tables)","note":{"type":"text","tag":"p","text":"*italic* **bold** [link](https://github.com/keenbug/tables)"}}},{"id":48,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"- List","note":{"type":"text","tag":"li","text":"List"}}},{"id":49,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"[ ] Todo","note":{"type":"checkbox","checked":false,"text":"Todo"}}},{"id":50,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":51,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Inline <span className=\"text-blue-800\">\"Html/React/tailwindcss\"</span> supported <span className=\"text-xs text-gray-700\">(kind of)</span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"text-blue-800\">\"Html/React/tailwindcss\"</span> supported <span className=\"text-xs text-gray-700\">(kind of)</span>"}}},{"id":15,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"### Computations","note":{"type":"text","tag":"h3","text":"Computations"}}},{"id":11,"name":"msInADay","visibility":"block","state":{"v":0,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":12,"name":"startOfThisYear","visibility":"block","state":{"v":0,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":13,"name":"daysInThisYear","visibility":"block","state":{"v":0,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":14,"name":"","visibility":"result","state":{"v":0,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":27,"name":"","visibility":"result","state":{"v":0,"level":0,"input":"= <p>The last time this block was computed: {new Date().toLocaleString()}</p>","note":{"type":"expr","code":" <p>The last time this block was computed: {new Date().toLocaleString()}</p>"}}},{"id":17,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"### Using different Blocks","note":{"type":"text","tag":"h3","text":"Using different Blocks"}}},{"id":19,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Available builtin blocks:","note":{"type":"text","tag":"p","text":"Available builtin blocks:"}}},{"id":18,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= <tables.ui.value.ValueInspector value={blocks} expandLevel={1} />","note":{"type":"expr","code":" <tables.ui.value.ValueInspector value={blocks} expandLevel={1} />"}}},{"id":31,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":21,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Use one like this:","note":{"type":"text","tag":"p","text":"Use one like this:"}}},{"id":20,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"/blocks.JSExpr // ⌘-Enter or click on \"Preview\" below to instantiate","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr // ⌘-Enter or click on \"Preview\" below to instantiate"}}},{"id":30,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":22,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Instantiated example:","note":{"type":"text","tag":"p","text":"Instantiated example:"}}},{"id":23,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"/block blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block with some Code\nfunction defaultView(data) {\n  return <tables.ui.value.ValueInspector value={data} expandLevel={0} />\n}\n\nfunction Table({ data, view=defaultView }) {\n  return (\n    <table>\n      <tbody>\n        {data.map((row, y) => (\n          <tr key={y}>\n            {row.map((cell, x) => (\n              <td key={x} className=\"hover:bg-gray-100\">{view(cell)}</td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  )\n}\n\n// The last expression is \"returned\"\n<Table\n  data={[\n    [1,2,3],\n    [\"4\",\"5\",\"6\"],\n    [{seven: {}}, {eight: {}}, {nine: { surprise: 10 }}],\n  ]}\n  />"}}},{"id":29,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":34,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Some Blocks take arguments:","note":{"type":"text","tag":"p","text":"Some Blocks take arguments:"}}},{"id":35,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"/blocks.Input(Number.parseInt)","note":{"type":"block","isInstantiated":false,"code":"blocks.Input(Number.parseInt)"}}},{"id":42,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Results in:","note":{"type":"text","tag":"p","text":"Results in:"}}},{"id":36,"name":"inputInt","visibility":"block","state":{"v":0,"level":0,"input":"/block blocks.Input(Number.parseInt)","note":{"type":"block","isInstantiated":true,"code":"blocks.Input(Number.parseInt)","state":"123.1313"}}},{"id":37,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= inputInt","note":{"type":"expr","code":" inputInt"}}},{"id":38,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":32,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Some Blocks are higher-order – they take another Block as an argument:","note":{"type":"text","tag":"p","text":"Some Blocks are higher-order – they take another Block as an argument:"}}},{"id":33,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"/blocks.SheetOf(blocks.JSExpr)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.JSExpr)"}}},{"id":40,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Looks like this:","note":{"type":"text","tag":"p","text":"Looks like this:"}}},{"id":39,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"/block blocks.SheetOf(blocks.JSExpr)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.JSExpr)","state":[{"id":0,"name":"","visibility":"block","state":"// This is a sheet's line with a JSExpr block\n12"},{"id":1,"name":"number","visibility":"block","state":"$0 * $0"},{"id":2,"name":"input","visibility":"block","state":"// You can still use stuff from above\n/* outer sheet: */ inputInt + /* above */ number"},{"id":3,"name":"","visibility":"block","state":"// The nesting of a Sheet inside a Sheet has the effect that\n// the CSS doesn't work 100% as intended and the blue/gray line\n// indicators on the left behave funny"}]}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":1,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]},"isCollapsed":true,"children":[]}}},{"time":1706617366075,"state":{"pages":[{"id":0,"name":"Introduction","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"# Tables","note":{"type":"text","tag":"h1","text":"Tables"}}},{"id":41,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":7,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"As such, it is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?).","note":{"type":"text","tag":"p","text":"As such, it is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?)."}}},{"id":4,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"<span className=\"text-sm text-gray-500\">Note: Cmd/Meta/Ctrl can be used interchangeably in shortcuts</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-500\">Note: Cmd/Meta/Ctrl can be used interchangeably in shortcuts</span>"}}},{"id":44,"name":"","visibility":"block","state":{"v":0,"level":1,"input":"<span className=\"text-sm text-gray-500\">(this can be especially useful to circumvent the browser capturing a shortcut)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-500\">(this can be especially useful to circumvent the browser capturing a shortcut)</span>"}}},{"id":6,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Navigation can also be done via keyboard. Focus things with `Enter` and get out with `Escape`. Move with `hjkl` or the `ArrowKey`s.","note":{"type":"text","tag":"p","text":"Navigation can also be done via keyboard. Focus things with `Enter` and get out with `Escape`. Move with `hjkl` or the `ArrowKey`s."}}},{"id":8,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":24,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":25,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Tables gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"Tables gives you the full power of JavaScript and React."}}},{"id":26,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":28,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":43,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":10,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"## Usage","note":{"type":"text","tag":"h2","text":"Usage"}}},{"id":45,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"### Text","note":{"type":"text","tag":"h3","text":"Text"}}},{"id":46,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Just use Markdown","note":{"type":"text","tag":"p","text":"Just use Markdown"}}},{"id":47,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"*italic* **bold** [link](https://github.com/keenbug/tables)","note":{"type":"text","tag":"p","text":"*italic* **bold** [link](https://github.com/keenbug/tables)"}}},{"id":48,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"- List","note":{"type":"text","tag":"li","text":"List"}}},{"id":49,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"[ ] Todo","note":{"type":"checkbox","checked":false,"text":"Todo"}}},{"id":50,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":51,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-1 before:-skew-y-3 before:bg-pink-500\">\"Html/React/tailwindcss\"</span> supported <span className=\"text-xs text-gray-700\">(kind of)</span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-1 before:-skew-y-3 before:bg-pink-500\">\"Html/React/tailwindcss\"</span> supported <span className=\"text-xs text-gray-700\">(kind of)</span>"}}},{"id":15,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"### Computations","note":{"type":"text","tag":"h3","text":"Computations"}}},{"id":11,"name":"msInADay","visibility":"block","state":{"v":0,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":12,"name":"startOfThisYear","visibility":"block","state":{"v":0,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":13,"name":"daysInThisYear","visibility":"block","state":{"v":0,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":14,"name":"","visibility":"result","state":{"v":0,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":27,"name":"","visibility":"result","state":{"v":0,"level":0,"input":"= <p>The last time this block was computed: {new Date().toLocaleString()}</p>","note":{"type":"expr","code":" <p>The last time this block was computed: {new Date().toLocaleString()}</p>"}}},{"id":17,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"### Using different Blocks","note":{"type":"text","tag":"h3","text":"Using different Blocks"}}},{"id":19,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Available builtin blocks:","note":{"type":"text","tag":"p","text":"Available builtin blocks:"}}},{"id":18,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= <tables.ui.value.ValueInspector value={blocks} expandLevel={1} />","note":{"type":"expr","code":" <tables.ui.value.ValueInspector value={blocks} expandLevel={1} />"}}},{"id":31,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":21,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Use one like this:","note":{"type":"text","tag":"p","text":"Use one like this:"}}},{"id":20,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"/blocks.JSExpr // ⌘-Enter or click on \"Preview\" below to instantiate","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr // ⌘-Enter or click on \"Preview\" below to instantiate"}}},{"id":30,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":22,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Instantiated example:","note":{"type":"text","tag":"p","text":"Instantiated example:"}}},{"id":23,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"/block blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block with some Code\nfunction defaultView(data) {\n  return <tables.ui.value.ValueInspector value={data} expandLevel={0} />\n}\n\nfunction Table({ data, view=defaultView }) {\n  return (\n    <table>\n      <tbody>\n        {data.map((row, y) => (\n          <tr key={y}>\n            {row.map((cell, x) => (\n              <td key={x} className=\"hover:bg-gray-100\">{view(cell)}</td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  )\n}\n\n// The last expression is \"returned\"\n<Table\n  data={[\n    [1,2,3],\n    [\"4\",\"5\",\"6\"],\n    [{seven: {}}, {eight: {}}, {nine: { surprise: 10 }}],\n  ]}\n  />"}}},{"id":29,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":34,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Some Blocks take arguments:","note":{"type":"text","tag":"p","text":"Some Blocks take arguments:"}}},{"id":35,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"/blocks.Input(Number.parseInt)","note":{"type":"block","isInstantiated":false,"code":"blocks.Input(Number.parseInt)"}}},{"id":42,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Results in:","note":{"type":"text","tag":"p","text":"Results in:"}}},{"id":36,"name":"inputInt","visibility":"block","state":{"v":0,"level":0,"input":"/block blocks.Input(Number.parseInt)","note":{"type":"block","isInstantiated":true,"code":"blocks.Input(Number.parseInt)","state":"123.1313"}}},{"id":37,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= inputInt","note":{"type":"expr","code":" inputInt"}}},{"id":38,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":32,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Some Blocks are higher-order – they take another Block as an argument:","note":{"type":"text","tag":"p","text":"Some Blocks are higher-order – they take another Block as an argument:"}}},{"id":33,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"/blocks.SheetOf(blocks.JSExpr)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.JSExpr)"}}},{"id":40,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Looks like this:","note":{"type":"text","tag":"p","text":"Looks like this:"}}},{"id":39,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"/block blocks.SheetOf(blocks.JSExpr)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.JSExpr)","state":[{"id":0,"name":"","visibility":"block","state":"// This is a sheet's line with a JSExpr block\n12"},{"id":1,"name":"number","visibility":"block","state":"$0 * $0"},{"id":2,"name":"input","visibility":"block","state":"// You can still use stuff from above\n/* outer sheet: */ inputInt + /* above */ number"},{"id":3,"name":"","visibility":"block","state":"// The nesting of a Sheet inside a Sheet has the effect that\n// the CSS doesn't work 100% as intended and the blue/gray line\n// indicators on the left behave funny"}]}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":1,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]},"isCollapsed":true,"children":[]}}},{"time":1706619676226,"state":{"pages":[{"id":0,"name":"Introduction","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"# Tables","note":{"type":"text","tag":"h1","text":"Tables"}}},{"id":41,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":7,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"As such, it is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?).","note":{"type":"text","tag":"p","text":"As such, it is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?)."}}},{"id":4,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"<span className=\"text-sm text-gray-500\">Note: Cmd/Meta/Ctrl can be used interchangeably in shortcuts</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-500\">Note: Cmd/Meta/Ctrl can be used interchangeably in shortcuts</span>"}}},{"id":44,"name":"","visibility":"block","state":{"v":0,"level":1,"input":"<span className=\"text-sm text-gray-500\">(this can be especially useful to circumvent the browser capturing a shortcut)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-500\">(this can be especially useful to circumvent the browser capturing a shortcut)</span>"}}},{"id":6,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Navigation can also be done via keyboard. Focus things with `Enter` and get out with `Escape`. Move with `hjkl` or the `ArrowKey`s.","note":{"type":"text","tag":"p","text":"Navigation can also be done via keyboard. Focus things with `Enter` and get out with `Escape`. Move with `hjkl` or the `ArrowKey`s."}}},{"id":8,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":24,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":25,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Tables gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"Tables gives you the full power of JavaScript and React."}}},{"id":26,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":28,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":43,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":10,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"## Usage","note":{"type":"text","tag":"h2","text":"Usage"}}},{"id":57,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"### Basic Interaction","note":{"type":"text","tag":"h3","text":"Basic Interaction"}}},{"id":58,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Move around with `hjkl` / `ArrowKey`s / `(Cmd-)Enter` / `Escape`","note":{"type":"text","tag":"p","text":"Move around with `hjkl` / `ArrowKey`s / `(Cmd-)Enter` / `Escape`"}}},{"id":59,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Use Shortcuts, find them with ⌘⇧`P` or display suggestions with ⌘`?`","note":{"type":"text","tag":"p","text":"Use Shortcuts, find them with ⌘⇧`P` or display suggestions with ⌘`?`"}}},{"id":60,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Undo/Redo is special. There is a History Mode you start with ⌘`Z` (or the History button in the sidebar). Move back and forth in the history with ⌘`Z`/⌘`Y`. Restore a selected historic state with ⌘`Enter`. The state will be appended after all other states, so you don't lose the states after the restored state. Exit History Mode without restoring anything with `Escape`.","note":{"type":"text","tag":"p","text":"Undo/Redo is special. There is a History Mode you start with ⌘`Z` (or the History button in the sidebar). Move back and forth in the history with ⌘`Z`/⌘`Y`. Restore a selected historic state with ⌘`Enter`. The state will be appended after all other states, so you don't lose the states after the restored state. Exit History Mode without restoring anything with `Escape`."}}},{"id":61,"name":"","visibility":"block","state":{"v":0,"level":1,"input":"Short:","note":{"type":"text","tag":"p","text":"Short:"}}},{"id":62,"name":"","visibility":"block","state":{"v":0,"level":1,"input":"⌘`Z` – Enter History Mode\n⌘`Z`/⌘`Y` – Move in History\n⌘`Enter` – Restore selected state\n`Escape` – Exit History without restoring a state","note":{"type":"text","tag":"p","text":"⌘`Z` – Enter History Mode\n⌘`Z`/⌘`Y` – Move in History\n⌘`Enter` – Restore selected state\n`Escape` – Exit History without restoring a state"}}},{"id":45,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"### Text","note":{"type":"text","tag":"h3","text":"Text"}}},{"id":46,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Just use Markdown","note":{"type":"text","tag":"p","text":"Just use Markdown"}}},{"id":47,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"*italic* **bold** [link](https://github.com/keenbug/tables)","note":{"type":"text","tag":"p","text":"*italic* **bold** [link](https://github.com/keenbug/tables)"}}},{"id":48,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"- List","note":{"type":"text","tag":"li","text":"List"}}},{"id":49,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"[ ] Todo","note":{"type":"checkbox","checked":false,"text":"Todo"}}},{"id":50,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":51,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">\"Html/React/tailwindcss\"</span></span> supported <span className=\"text-xs text-gray-700\">(kind of)</span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">\"Html/React/tailwindcss\"</span></span> supported <span className=\"text-xs text-gray-700\">(kind of)</span>"}}},{"id":15,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"### Computations","note":{"type":"text","tag":"h3","text":"Computations"}}},{"id":11,"name":"msInADay","visibility":"block","state":{"v":0,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":12,"name":"startOfThisYear","visibility":"block","state":{"v":0,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":13,"name":"daysInThisYear","visibility":"block","state":{"v":0,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":14,"name":"","visibility":"result","state":{"v":0,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":63,"name":"Mark","visibility":"result","state":{"v":0,"level":0,"input":"= // The effect from \"Html/React/tailwindcss\" before\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\">\n      <span className=\"relative text-blue-950\">\n        {children}\n      </span>\n    </span>\n  )\n}","note":{"type":"expr","code":" // The effect from \"Html/React/tailwindcss\" before\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\">\n      <span className=\"relative text-blue-950\">\n        {children}\n      </span>\n    </span>\n  )\n}"}}},{"id":27,"name":"","visibility":"result","state":{"v":0,"level":0,"input":"= <p>The last time this block was computed: <Mark>{new Date().toLocaleString()}</Mark></p>","note":{"type":"expr","code":" <p>The last time this block was computed: <Mark>{new Date().toLocaleString()}</Mark></p>"}}},{"id":17,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"### Using different Blocks","note":{"type":"text","tag":"h3","text":"Using different Blocks"}}},{"id":19,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Available builtin blocks:","note":{"type":"text","tag":"p","text":"Available builtin blocks:"}}},{"id":18,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= <tables.ui.value.ValueInspector value={blocks} expandLevel={1} />","note":{"type":"expr","code":" <tables.ui.value.ValueInspector value={blocks} expandLevel={1} />"}}},{"id":31,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":21,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Use one like this:","note":{"type":"text","tag":"p","text":"Use one like this:"}}},{"id":20,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"/blocks.JSExpr // ⌘-Enter or click on \"Preview\" below to instantiate","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr // ⌘-Enter or click on \"Preview\" below to instantiate"}}},{"id":30,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":22,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Instantiated example:","note":{"type":"text","tag":"p","text":"Instantiated example:"}}},{"id":23,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"/block blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block with some Code\nfunction defaultView(data) {\n  return <tables.ui.value.ValueInspector value={data} expandLevel={0} />\n}\n\nfunction Table({ data, view=defaultView }) {\n  return (\n    <table>\n      <tbody>\n        {data.map((row, y) => (\n          <tr key={y}>\n            {row.map((cell, x) => (\n              <td key={x} className=\"hover:bg-gray-100\">{view(cell)}</td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  )\n}\n\n// The last expression is \"returned\"\n<Table\n  data={[\n    [1,2,3],\n    [\"4\",\"5\",\"6\"],\n    [{seven: {}}, {eight: {}}, {nine: { surprise: 10 }}],\n  ]}\n  />"}}},{"id":29,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":34,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Some Blocks take arguments:","note":{"type":"text","tag":"p","text":"Some Blocks take arguments:"}}},{"id":35,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"/blocks.Input(Number.parseInt)","note":{"type":"block","isInstantiated":false,"code":"blocks.Input(Number.parseInt)"}}},{"id":42,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Results in:","note":{"type":"text","tag":"p","text":"Results in:"}}},{"id":36,"name":"inputInt","visibility":"block","state":{"v":0,"level":0,"input":"/block blocks.Input(Number.parseInt)","note":{"type":"block","isInstantiated":true,"code":"blocks.Input(Number.parseInt)","state":"123.1313"}}},{"id":37,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= inputInt","note":{"type":"expr","code":" inputInt"}}},{"id":38,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":32,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Some Blocks are higher-order – they take another Block as an argument:","note":{"type":"text","tag":"p","text":"Some Blocks are higher-order – they take another Block as an argument:"}}},{"id":33,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"/blocks.SheetOf(blocks.JSExpr)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.JSExpr)"}}},{"id":40,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Looks like this:","note":{"type":"text","tag":"p","text":"Looks like this:"}}},{"id":39,"name":"sheetStuff","visibility":"block","state":{"v":0,"level":0,"input":"/block blocks.SheetOf(blocks.JSExpr)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.JSExpr)","state":[{"id":0,"name":"","visibility":"block","state":"// This is a sheet's line with a JSExpr block\n12"},{"id":1,"name":"number","visibility":"block","state":"$0 * $0"},{"id":2,"name":"input","visibility":"block","state":"// You can still use stuff from above\n/* outer sheet: */ inputInt + /* above */ number"},{"id":3,"name":"thisWillBeReturned","visibility":"block","state":"// The nesting of a Sheet inside a Sheet has the effect that\n// the CSS doesn't work 100% as intended and the blue/gray line\n// indicators on the left behave funny\n// return something:\ninput"}]}}},{"id":52,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":53,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Everything you see in Tables is part of a Block and can be reused:","note":{"type":"text","tag":"p","text":"Everything you see in Tables is part of a Block and can be reused:"}}},{"id":54,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"/blocks.DocumentOf(blocks.BlockSelector('', null, blocks))","note":{"type":"block","isInstantiated":false,"code":"blocks.DocumentOf(blocks.BlockSelector('', null, blocks))"}}},{"id":55,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"So, here it is, Tables nested in Tables:","note":{"type":"text","tag":"p","text":"So, here it is, Tables nested in Tables:"}}},{"id":56,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"/blocks.DocumentOf(blocks.BlockSelector('', null, blocks))","note":{"type":"block","isInstantiated":true,"code":"blocks.DocumentOf(blocks.BlockSelector('', null, blocks))","state":{"history":[{"time":1706617805734,"state":{"pages":[],"viewState":{"sidebarOpen":true,"openPage":[]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706617833650,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= inputInt","note":{"type":"expr","code":" inputInt"}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706617947472,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706617954302,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Nothing to see here...","note":{"type":"text","tag":"p","text":"Nothing to see here..."}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706618002635,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Nothing to see here...","note":{"type":"text","tag":"p","text":"Nothing to see here..."}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706618330050,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706618332862,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= inputInt","note":{"type":"expr","code":" inputInt"}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706618392198,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= ","note":{"type":"expr","code":" "}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706618393101,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= s","note":{"type":"expr","code":" s"}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706618393221,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= sh","note":{"type":"expr","code":" sh"}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706618393288,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= she","note":{"type":"expr","code":" she"}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706618393425,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= shee","note":{"type":"expr","code":" shee"}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706618393494,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= sheet","note":{"type":"expr","code":" sheet"}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706618393834,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= sheetS","note":{"type":"expr","code":" sheetS"}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706618394023,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= sheetSt","note":{"type":"expr","code":" sheetSt"}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706618394158,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= sheetStu","note":{"type":"expr","code":" sheetStu"}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706618394222,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= sheetStuf","note":{"type":"expr","code":" sheetStuf"}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706618394339,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= sheetStuff","note":{"type":"expr","code":" sheetStuff"}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}}],"inner":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= sheetStuff","note":{"type":"expr","code":" sheetStuff"}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}}}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":1,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]},"isCollapsed":true,"children":[]}}},{"time":1707831999457,"state":{"pages":[{"id":0,"name":"Introduction","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"# Tables","note":{"type":"text","tag":"h1","text":"Tables"}}},{"id":41,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":64,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":7,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"As such, it is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?).","note":{"type":"text","tag":"p","text":"As such, it is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?)."}}},{"id":4,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"<span className=\"text-sm text-gray-500\">Note: Cmd/Meta/Ctrl can be used interchangeably in shortcuts</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-500\">Note: Cmd/Meta/Ctrl can be used interchangeably in shortcuts</span>"}}},{"id":44,"name":"","visibility":"block","state":{"v":0,"level":1,"input":"<span className=\"text-sm text-gray-500\">(this can be especially useful to circumvent the browser capturing a shortcut)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-500\">(this can be especially useful to circumvent the browser capturing a shortcut)</span>"}}},{"id":6,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Navigation can also be done via keyboard. Focus things with `Enter` and get out with `Escape`. Move with `hjkl` or the `ArrowKey`s.","note":{"type":"text","tag":"p","text":"Navigation can also be done via keyboard. Focus things with `Enter` and get out with `Escape`. Move with `hjkl` or the `ArrowKey`s."}}},{"id":8,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":24,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":25,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Tables gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"Tables gives you the full power of JavaScript and React."}}},{"id":26,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":28,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":43,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":10,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"## Usage","note":{"type":"text","tag":"h2","text":"Usage"}}},{"id":57,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"### Basic Interaction","note":{"type":"text","tag":"h3","text":"Basic Interaction"}}},{"id":58,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Move around with `hjkl` / `ArrowKey`s / `(Cmd-)Enter` / `Escape`","note":{"type":"text","tag":"p","text":"Move around with `hjkl` / `ArrowKey`s / `(Cmd-)Enter` / `Escape`"}}},{"id":59,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Use Shortcuts, find them with ⌘⇧`P` or display suggestions with ⌘`?`","note":{"type":"text","tag":"p","text":"Use Shortcuts, find them with ⌘⇧`P` or display suggestions with ⌘`?`"}}},{"id":60,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Undo/Redo is special. There is a History Mode you start with ⌘`Z` (or the History button in the sidebar). Move back and forth in the history with ⌘`Z`/⌘`Y`. Restore a selected historic state with ⌘`Enter`. The state will be appended after all other states, so you don't lose the states after the restored state. Exit History Mode without restoring anything with `Escape`.","note":{"type":"text","tag":"p","text":"Undo/Redo is special. There is a History Mode you start with ⌘`Z` (or the History button in the sidebar). Move back and forth in the history with ⌘`Z`/⌘`Y`. Restore a selected historic state with ⌘`Enter`. The state will be appended after all other states, so you don't lose the states after the restored state. Exit History Mode without restoring anything with `Escape`."}}},{"id":61,"name":"","visibility":"block","state":{"v":0,"level":1,"input":"Short:","note":{"type":"text","tag":"p","text":"Short:"}}},{"id":62,"name":"","visibility":"block","state":{"v":0,"level":1,"input":"⌘`Z` – Enter History Mode\n⌘`Z`/⌘`Y` – Move in History\n⌘`Enter` – Restore selected state\n`Escape` – Exit History without restoring a state","note":{"type":"text","tag":"p","text":"⌘`Z` – Enter History Mode\n⌘`Z`/⌘`Y` – Move in History\n⌘`Enter` – Restore selected state\n`Escape` – Exit History without restoring a state"}}},{"id":45,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"### Text","note":{"type":"text","tag":"h3","text":"Text"}}},{"id":46,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Just use Markdown","note":{"type":"text","tag":"p","text":"Just use Markdown"}}},{"id":47,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"*italic* **bold** [link](https://github.com/keenbug/tables)","note":{"type":"text","tag":"p","text":"*italic* **bold** [link](https://github.com/keenbug/tables)"}}},{"id":48,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"- List","note":{"type":"text","tag":"li","text":"List"}}},{"id":49,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"[ ] Todo","note":{"type":"checkbox","checked":false,"text":"Todo"}}},{"id":50,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":51,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">\"Html/React/tailwindcss\"</span></span> supported <span className=\"text-xs text-gray-700\">(kind of)</span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">\"Html/React/tailwindcss\"</span></span> supported <span className=\"text-xs text-gray-700\">(kind of)</span>"}}},{"id":15,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"### Computations","note":{"type":"text","tag":"h3","text":"Computations"}}},{"id":11,"name":"msInADay","visibility":"block","state":{"v":0,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":12,"name":"startOfThisYear","visibility":"block","state":{"v":0,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":13,"name":"daysInThisYear","visibility":"block","state":{"v":0,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":14,"name":"","visibility":"result","state":{"v":0,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":63,"name":"Mark","visibility":"result","state":{"v":0,"level":0,"input":"= // The effect from \"Html/React/tailwindcss\" before\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\">\n      <span className=\"relative text-blue-950\">\n        {children}\n      </span>\n    </span>\n  )\n}","note":{"type":"expr","code":" // The effect from \"Html/React/tailwindcss\" before\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\">\n      <span className=\"relative text-blue-950\">\n        {children}\n      </span>\n    </span>\n  )\n}"}}},{"id":27,"name":"","visibility":"result","state":{"v":0,"level":0,"input":"= <p>The last time this block was computed: <Mark>{new Date().toLocaleString()}</Mark></p>","note":{"type":"expr","code":" <p>The last time this block was computed: <Mark>{new Date().toLocaleString()}</Mark></p>"}}},{"id":17,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"### Using different Blocks","note":{"type":"text","tag":"h3","text":"Using different Blocks"}}},{"id":19,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Available builtin blocks:","note":{"type":"text","tag":"p","text":"Available builtin blocks:"}}},{"id":18,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= <tables.ui.value.ValueInspector value={blocks} expandLevel={1} />","note":{"type":"expr","code":" <tables.ui.value.ValueInspector value={blocks} expandLevel={1} />"}}},{"id":31,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":21,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Use one like this:","note":{"type":"text","tag":"p","text":"Use one like this:"}}},{"id":20,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"/blocks.JSExpr // ⌘-Enter or click on \"Preview\" below to instantiate","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr // ⌘-Enter or click on \"Preview\" below to instantiate"}}},{"id":30,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":22,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Instantiated example:","note":{"type":"text","tag":"p","text":"Instantiated example:"}}},{"id":23,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"/block blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block with some Code\nfunction defaultView(data) {\n  return <tables.ui.value.ValueInspector value={data} expandLevel={0} />\n}\n\nfunction Table({ data, view=defaultView }) {\n  return (\n    <table>\n      <tbody>\n        {data.map((row, y) => (\n          <tr key={y}>\n            {row.map((cell, x) => (\n              <td key={x} className=\"hover:bg-gray-100\">{view(cell)}</td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  )\n}\n\n// The last expression is \"returned\"\n<Table\n  data={[\n    [1,2,3],\n    [\"4\",\"5\",\"6\"],\n    [{seven: {}}, {eight: {}}, {nine: { surprise: 10 }}],\n  ]}\n  />"}}},{"id":29,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":34,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Some Blocks take arguments:","note":{"type":"text","tag":"p","text":"Some Blocks take arguments:"}}},{"id":35,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"/blocks.Input(Number.parseInt)","note":{"type":"block","isInstantiated":false,"code":"blocks.Input(Number.parseInt)"}}},{"id":42,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Results in:","note":{"type":"text","tag":"p","text":"Results in:"}}},{"id":36,"name":"inputInt","visibility":"block","state":{"v":0,"level":0,"input":"/block blocks.Input(Number.parseInt)","note":{"type":"block","isInstantiated":true,"code":"blocks.Input(Number.parseInt)","state":"123.1313"}}},{"id":37,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= inputInt","note":{"type":"expr","code":" inputInt"}}},{"id":38,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":32,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Some Blocks are higher-order – they take another Block as an argument:","note":{"type":"text","tag":"p","text":"Some Blocks are higher-order – they take another Block as an argument:"}}},{"id":33,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"/blocks.SheetOf(blocks.JSExpr)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.JSExpr)"}}},{"id":40,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Looks like this:","note":{"type":"text","tag":"p","text":"Looks like this:"}}},{"id":39,"name":"sheetStuff","visibility":"block","state":{"v":0,"level":0,"input":"/block blocks.SheetOf(blocks.JSExpr)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.JSExpr)","state":[{"id":0,"name":"","visibility":"block","state":"// This is a sheet's line with a JSExpr block\n12"},{"id":1,"name":"number","visibility":"block","state":"$0 * $0"},{"id":2,"name":"input","visibility":"block","state":"// You can still use stuff from above\n/* outer sheet: */ inputInt + /* above */ number"},{"id":3,"name":"thisWillBeReturned","visibility":"block","state":"// The nesting of a Sheet inside a Sheet has the effect that\n// the CSS doesn't work 100% as intended and the blue/gray line\n// indicators on the left behave funny\n// return something:\ninput"}]}}},{"id":52,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":53,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Everything you see in Tables is part of a Block and can be reused:","note":{"type":"text","tag":"p","text":"Everything you see in Tables is part of a Block and can be reused:"}}},{"id":54,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"/blocks.DocumentOf(blocks.BlockSelector('', null, blocks))","note":{"type":"block","isInstantiated":false,"code":"blocks.DocumentOf(blocks.BlockSelector('', null, blocks))"}}},{"id":55,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"So, here it is, Tables nested in Tables:","note":{"type":"text","tag":"p","text":"So, here it is, Tables nested in Tables:"}}},{"id":56,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"/blocks.DocumentOf(blocks.BlockSelector('', null, blocks))","note":{"type":"block","isInstantiated":true,"code":"blocks.DocumentOf(blocks.BlockSelector('', null, blocks))","state":{"history":[{"time":1706617805734,"state":{"pages":[],"viewState":{"sidebarOpen":true,"openPage":[]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706617833650,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= inputInt","note":{"type":"expr","code":" inputInt"}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706617947472,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706617954302,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Nothing to see here...","note":{"type":"text","tag":"p","text":"Nothing to see here..."}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706618002635,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Nothing to see here...","note":{"type":"text","tag":"p","text":"Nothing to see here..."}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706618330050,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706618332862,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= inputInt","note":{"type":"expr","code":" inputInt"}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706618392198,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= ","note":{"type":"expr","code":" "}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706618393101,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= s","note":{"type":"expr","code":" s"}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706618393221,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= sh","note":{"type":"expr","code":" sh"}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706618393288,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= she","note":{"type":"expr","code":" she"}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706618393425,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= shee","note":{"type":"expr","code":" shee"}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706618393494,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= sheet","note":{"type":"expr","code":" sheet"}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706618393834,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= sheetS","note":{"type":"expr","code":" sheetS"}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706618394023,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= sheetSt","note":{"type":"expr","code":" sheetSt"}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706618394158,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= sheetStu","note":{"type":"expr","code":" sheetStu"}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706618394222,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= sheetStuf","note":{"type":"expr","code":" sheetStuf"}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}},{"time":1706618394339,"state":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= sheetStuff","note":{"type":"expr","code":" sheetStuff"}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}}],"inner":{"pages":[{"id":0,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= sheetStuff","note":{"type":"expr","code":" sheetStuff"}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":-1,"name":"","state":{"mode":"choose","expr":""},"isCollapsed":true,"children":[]}}}}}}]},"isCollapsed":true,"children":[]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":1,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]},"isCollapsed":true,"children":[]}}},{"time":1707840899507,"state":{"pages":[{"id":0,"name":"Introduction","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"# Tables","note":{"type":"text","tag":"h1","text":"Tables"}}},{"id":41,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":70,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably)*"}}},{"id":66,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Command Search: **⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Navigation: **Arrow Keys/`hjkl`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`hjkl`**"}}},{"id":69,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"## Notes","note":{"type":"text","tag":"h2","text":"Notes"}}},{"id":72,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"v":0,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"v":0,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"v":0,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"v":0,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"v":0,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}},{"id":78,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"## History","note":{"type":"text","tag":"h2","text":"History"}}},{"id":83,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"*Undo/Redo*","note":{"type":"text","tag":"p","text":"*Undo/Redo*"}}},{"id":79,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Open History: **⌘`Z`**\nMove back/forth in History: **⌘`Z`/⌘`Y`**\nRestore selected state: **⌘`Enter`**\nClose History without restoring a state: **`Escape`**","note":{"type":"text","tag":"p","text":"Open History: **⌘`Z`**\nMove back/forth in History: **⌘`Z`/⌘`Y`**\nRestore selected state: **⌘`Enter`**\nClose History without restoring a state: **`Escape`**"}}}]},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":13,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Tables is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?).","note":{"type":"text","tag":"p","text":"Tables is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?)."}}},{"id":1,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Tables gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"Tables gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"v":0,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"v":0,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"v":0,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"v":0,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"v":0,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"v":0,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"v":0,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"v":0,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"v":0,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"v":0,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"v":0,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"v":0,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"v":0,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"v":0,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}}]},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\">\n      <span className=\"relative text-blue-950\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p>\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Now we have a Sheet inside a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}},{"id":12,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"tables.block.create({\n  init: \"\",\n  view({ state, update, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => update(stateBefore => ev.target.value)}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"test\": \"foo\",\n  \"bar\": 12\n}"}}},{"id":24,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":1,"name":"","state":{"mode":"run","expr":"SheetOf(Note)","inner":[{"id":0,"name":"","visibility":"block","state":{"v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]},"isCollapsed":true,"children":[]}}},{"time":1708507216116,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tables","note":{"type":"text","tag":"h1","text":"Tables"}}},{"id":41,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":70,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Command Search: **⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Navigation: **Arrow Keys/`hjkl`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`hjkl`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Notes","note":{"type":"text","tag":"h2","text":"Notes"}}},{"id":72,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}},{"id":78,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## History","note":{"type":"text","tag":"h2","text":"History"}}},{"id":83,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*Undo/Redo*","note":{"type":"text","tag":"p","text":"*Undo/Redo*"}}},{"id":79,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Open History: **⌘`Z`**\nMove back/forth in History: **⌘`Z`/⌘`Y`**\nRestore selected state: **⌘`Enter`**\nClose History without restoring a state: **`Escape`**","note":{"type":"text","tag":"p","text":"Open History: **⌘`Z`**\nMove back/forth in History: **⌘`Z`/⌘`Y`**\nRestore selected state: **⌘`Enter`**\nClose History without restoring a state: **`Escape`**"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?).","note":{"type":"text","tag":"p","text":"Tables is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?)."}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"Tables gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"tables.note","v":0,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\">\n      <span className=\"relative text-blue-950\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p>\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Now we have a Sheet inside a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"tables.block.create({\n  init: \"\",\n  view({ state, update, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => update(stateBefore => ev.target.value)}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"test\": \"foo\",\n  \"bar\": 12\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":1,"name":"","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}}},{"time":1708507221932,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tables","note":{"type":"text","tag":"h1","text":"Tables"}}},{"id":41,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":70,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Command Search: **⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Navigation: **Arrow Keys/`hjkl`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`hjkl`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Notes","note":{"type":"text","tag":"h2","text":"Notes"}}},{"id":72,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}},{"id":78,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## History","note":{"type":"text","tag":"h2","text":"History"}}},{"id":83,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*Undo/Redo*","note":{"type":"text","tag":"p","text":"*Undo/Redo*"}}},{"id":79,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Open History: **⌘`Z`**\nMove back/forth in History: **⌘`Z`/⌘`Y`**\nRestore selected state: **⌘`Enter`**\nClose History without restoring a state: **`Escape`**","note":{"type":"text","tag":"p","text":"Open History: **⌘`Z`**\nMove back/forth in History: **⌘`Z`/⌘`Y`**\nRestore selected state: **⌘`Enter`**\nClose History without restoring a state: **`Escape`**"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?).","note":{"type":"text","tag":"p","text":"Tables is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?)."}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"Tables gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"tables.note","v":0,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\">\n      <span className=\"relative text-blue-950\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p>\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Now we have a Sheet inside a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"tables.block.create({\n  init: \"\",\n  view({ state, update, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => update(stateBefore => ev.target.value)}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"test\": \"foo\",\n  \"bar\": 12\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":1,"name":"","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}}},{"time":1708507230076,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tables","note":{"type":"text","tag":"h1","text":"Tables"}}},{"id":41,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":70,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Command Search: **⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Navigation: **Arrow Keys/`hjkl`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`hjkl`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Notes","note":{"type":"text","tag":"h2","text":"Notes"}}},{"id":72,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?).","note":{"type":"text","tag":"p","text":"Tables is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?)."}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"Tables gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"tables.note","v":0,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\">\n      <span className=\"relative text-blue-950\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p>\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Now we have a Sheet inside a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"tables.block.create({\n  init: \"\",\n  view({ state, update, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => update(stateBefore => ev.target.value)}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"test\": \"foo\",\n  \"bar\": 12\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0,1]},"template":{"id":1,"name":"","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}}},{"time":1708507235667,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tables","note":{"type":"text","tag":"h1","text":"Tables"}}},{"id":41,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":70,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Command Search: **⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Navigation: **Arrow Keys/`hjkl`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`hjkl`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Notes","note":{"type":"text","tag":"h2","text":"Notes"}}},{"id":72,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?).","note":{"type":"text","tag":"p","text":"Tables is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?)."}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"Tables gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"tables.note","v":0,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\">\n      <span className=\"relative text-blue-950\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p>\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Now we have a Sheet inside a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"tables.block.create({\n  init: \"\",\n  view({ state, update, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => update(stateBefore => ev.target.value)}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"test\": \"foo\",\n  \"bar\": 12\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0,3]},"template":{"id":1,"name":"","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}}},{"time":1708507240496,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tables","note":{"type":"text","tag":"h1","text":"Tables"}}},{"id":41,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":70,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Command Search: **⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Navigation: **Arrow Keys/`hjkl`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`hjkl`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Notes","note":{"type":"text","tag":"h2","text":"Notes"}}},{"id":72,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?).","note":{"type":"text","tag":"p","text":"Tables is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?)."}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"Tables gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"tables.note","v":0,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\">\n      <span className=\"relative text-blue-950\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p>\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Now we have a Sheet inside a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"tables.block.create({\n  init: \"\",\n  view({ state, update, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => update(stateBefore => ev.target.value)}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"test\": \"foo\",\n  \"bar\": 12\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":1,"name":"","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}}},{"time":1708507262227,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tables","note":{"type":"text","tag":"h1","text":"Tables"}}},{"id":41,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":70,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Command Search: **⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Navigation: **Arrow Keys/`hjkl`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`hjkl`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Notes","note":{"type":"text","tag":"h2","text":"Notes"}}},{"id":72,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?).","note":{"type":"text","tag":"p","text":"Tables is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?)."}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"Tables gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"tables.note","v":0,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\">\n      <span className=\"relative text-blue-950\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p>\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Now we have a Sheet inside a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"tables.block.create({\n  init: \"\",\n  view({ state, update, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => update(stateBefore => ev.target.value)}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"test\": \"foo\",\n  \"bar\": 12\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0,0]},"template":{"id":1,"name":"","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}}},{"time":1708507274808,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tables","note":{"type":"text","tag":"h1","text":"Tables"}}},{"id":41,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":70,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Command Search: **⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Navigation: **Arrow Keys/`hjkl`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`hjkl`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Notes","note":{"type":"text","tag":"h2","text":"Notes"}}},{"id":72,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?).","note":{"type":"text","tag":"p","text":"Tables is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?)."}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"Tables gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"tables.note","v":0,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\">\n      <span className=\"relative text-blue-950\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p>\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Now we have a Sheet inside a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"tables.block.create({\n  init: \"\",\n  view({ state, update, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => update(stateBefore => ev.target.value)}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"test\": \"foo\",\n  \"bar\": 12\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0,1]},"template":{"id":1,"name":"","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}}},{"time":1708507275170,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tables","note":{"type":"text","tag":"h1","text":"Tables"}}},{"id":41,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":70,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Command Search: **⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Navigation: **Arrow Keys/`hjkl`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`hjkl`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Notes","note":{"type":"text","tag":"h2","text":"Notes"}}},{"id":72,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?).","note":{"type":"text","tag":"p","text":"Tables is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?)."}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"Tables gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"tables.note","v":0,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\">\n      <span className=\"relative text-blue-950\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p>\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Now we have a Sheet inside a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"tables.block.create({\n  init: \"\",\n  view({ state, update, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => update(stateBefore => ev.target.value)}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"test\": \"foo\",\n  \"bar\": 12\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0,1]},"template":{"id":1,"name":"","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}}},{"time":1708507287193,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tables","note":{"type":"text","tag":"h1","text":"Tables"}}},{"id":41,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":70,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Command Search: **⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Navigation: **Arrow Keys/`hjkl`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`hjkl`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Notes","note":{"type":"text","tag":"h2","text":"Notes"}}},{"id":72,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?).","note":{"type":"text","tag":"p","text":"Tables is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?)."}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"Tables gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"tables.note","v":0,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\">\n      <span className=\"relative text-blue-950\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p>\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Now we have a Sheet inside a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"tables.block.create({\n  init: \"\",\n  view({ state, update, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => update(stateBefore => ev.target.value)}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"test\": \"foo\",\n  \"bar\": 12\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0,2]},"template":{"id":1,"name":"","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}}},{"time":1708507288358,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tables","note":{"type":"text","tag":"h1","text":"Tables"}}},{"id":41,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":70,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Command Search: **⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Navigation: **Arrow Keys/`hjkl`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`hjkl`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Notes","note":{"type":"text","tag":"h2","text":"Notes"}}},{"id":72,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?).","note":{"type":"text","tag":"p","text":"Tables is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?)."}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"Tables gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"tables.note","v":0,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\">\n      <span className=\"relative text-blue-950\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p>\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Now we have a Sheet inside a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"tables.block.create({\n  init: \"\",\n  view({ state, update, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => update(stateBefore => ev.target.value)}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"test\": \"foo\",\n  \"bar\": 12\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0,3]},"template":{"id":1,"name":"","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}}},{"time":1708507302013,"state":{"pages":[{"id":0,"name":"Introduction","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tables","note":{"type":"text","tag":"h1","text":"Tables"}}},{"id":41,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":70,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Command Search: **⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Navigation: **Arrow Keys/`hjkl`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`hjkl`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Notes","note":{"type":"text","tag":"h2","text":"Notes"}}},{"id":72,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?).","note":{"type":"text","tag":"p","text":"Tables is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?)."}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"Tables gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"tables.note","v":0,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\">\n      <span className=\"relative text-blue-950\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p>\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Now we have a Sheet inside a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"tables.block.create({\n  init: \"\",\n  view({ state, update, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => update(stateBefore => ev.target.value)}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"test\": \"foo\",\n  \"bar\": 12\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":1,"name":"","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}}}],"inner":{"pages":[{"id":0,"name":"Introduction","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tables","note":{"type":"text","tag":"h1","text":"Tables"}}},{"id":41,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A notes-spreadsheet-hybrid for programmers.","note":{"type":"text","tag":"p","text":"A notes-spreadsheet-hybrid for programmers."}}},{"id":70,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Shortcuts","note":{"type":"text","tag":"h2","text":"Shortcuts"}}},{"id":76,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*⌘ = Meta = Ctrl (can be used interchangeably)*","note":{"type":"text","tag":"p","text":"*⌘ = Meta = Ctrl (can be used interchangeably)*"}}},{"id":66,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Command Search: **⌘⇧P**","note":{"type":"text","tag":"p","text":"Command Search: **⌘⇧P**"}}},{"id":67,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Shortcut Suggestions: **⌘?**","note":{"type":"text","tag":"p","text":"Shortcut Suggestions: **⌘?**"}}},{"id":68,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Navigation: **Arrow Keys/`hjkl`**","note":{"type":"text","tag":"p","text":"Navigation: **Arrow Keys/`hjkl`**"}}},{"id":69,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Go in/out: **`Enter`/`Escape`**","note":{"type":"text","tag":"p","text":"Go in/out: **`Enter`/`Escape`**"}}},{"id":71,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Notes","note":{"type":"text","tag":"h2","text":"Notes"}}},{"id":72,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Format with Markdown","note":{"type":"text","tag":"p","text":"Format with Markdown"}}},{"id":74,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>","note":{"type":"text","tag":"p","text":"<span className=\"text-sm text-gray-800\">(`*italic* **bold** [link text](link url)` etc)</span>"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"\"Formulas\" (JavaScript) start with `\"=\"`","note":{"type":"text","tag":"p","text":"\"Formulas\" (JavaScript) start with `\"=\"`"}}},{"id":82,"name":"x","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= 12","note":{"type":"expr","code":" 12"}}},{"id":84,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"= Math.sqrt(x + x)","note":{"type":"expr","code":" Math.sqrt(x + x)"}}},{"id":80,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`Space`** for completions","note":{"type":"text","tag":"p","text":"**⌘`Space`** for completions"}}},{"id":81,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"**⌘`D`** for docs (if available)","note":{"type":"text","tag":"p","text":"**⌘`D`** for docs (if available)"}}}]}},"isCollapsed":false,"children":[{"id":0,"name":"Tips","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Tips","note":{"type":"text","tag":"h1","text":"Tips"}}},{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?).","note":{"type":"text","tag":"p","text":"Tables is heavily keyboard-focused. Try ⌘⇧P to see all commands for the current focus (or ⌘?)."}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file.","note":{"type":"text","tag":"p","text":"Your document is automatically backed up to IndexedDB, but gets deleted after 7 days. So don't forget to save it to a local file."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Tables gives you the full power of JavaScript and React.","note":{"type":"text","tag":"p","text":"Tables gives you the full power of JavaScript and React."}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**.","note":{"type":"text","tag":"p","text":"**Be aware:** You have the **power to break it** (but generally you can undo it – ⌘Z) and full responsibilty to **ensure you trust the code you run**."}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type.","note":{"type":"text","tag":"p","text":"Also beware of side-effects in your code: Everything is automatically rerun as needed (for changes), so side-effects may execute for every character you type."}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl.","note":{"type":"text","tag":"p","text":"If a shortcut triggers a browser action, try an alternative key combination by switching ⌘/Meta/Ctrl."}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":1,"input":"For example:","note":{"type":"text","tag":"p","text":"For example:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘N = Meta-N = Ctrl-N","note":{"type":"text","tag":"p","text":"⌘N = Meta-N = Ctrl-N"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P","note":{"type":"text","tag":"p","text":"⌘⇧P = Meta-Shift-P = Ctrl-Shift-P"}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":2,"input":"etc","note":{"type":"text","tag":"p","text":"etc"}}}]}},"isCollapsed":true,"children":[]},{"id":1,"name":"Formulas","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Formulas","note":{"type":"text","tag":"h1","text":"Formulas"}}},{"id":1,"name":"msInADay","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/","note":{"type":"expr","code":" 24 /*h*/ * 60 /*min*/ * 60 /*sec*/ * 1000 /*ms*/"}}},{"id":2,"name":"startOfThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= new Date(new Date().getFullYear(), 0, 1)","note":{"type":"expr","code":" new Date(new Date().getFullYear(), 0, 1)"}}},{"id":3,"name":"daysInThisYear","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= (Date.now() - startOfThisYear.getTime()) / msInADay","note":{"type":"expr","code":" (Date.now() - startOfThisYear.getTime()) / msInADay"}}},{"id":4,"name":"","visibility":"result","state":{"t":"tables.note","v":0,"level":0,"input":"= // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>","note":{"type":"expr","code":" // using react:\n<p className=\"py-2\">\n  This year is already {/* preserve the space character before this comment */}\n  {daysInThisYear.toLocaleString(\"en-US\", { maximumFractionDigits: 1 })}\n  {} days long. {}\n  <span className=\"text-sm text-gray-700\">(Select this line and show or hide the code with ⌘M)</span>\n</p>"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## External Libraries","note":{"type":"text","tag":"h2","text":"External Libraries"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[esm.sh](https://esm.sh/) works great for loading npm libraries","note":{"type":"text","tag":"p","text":"[esm.sh](https://esm.sh/) works great for loading npm libraries"}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Number Formatting","note":{"type":"text","tag":"h3","text":"Number Formatting"}}},{"id":7,"name":"numeral","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/numeral')","note":{"type":"expr","code":" import('https://esm.sh/numeral')"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= numeral.default(123456.789).format('0,0.00')","note":{"type":"expr","code":" numeral.default(123456.789).format('0,0.00')"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### CSV Parsing","note":{"type":"text","tag":"h3","text":"CSV Parsing"}}},{"id":11,"name":"Papa","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/papaparse')","note":{"type":"expr","code":" import('https://esm.sh/papaparse')"}}},{"id":12,"name":"csv","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b","note":{"type":"text","tag":"p","text":"id,name,age,plan,email\n0,John,28,free,john@example.com\n1,Alice,34,premium,alice@boo\n2,Bob,43,premium,bob@b.b"}}},{"id":13,"name":"data","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= Papa.default.parse(csv.text, { header: true }).data","note":{"type":"expr","code":" Papa.default.parse(csv.text, { header: true }).data"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Validation","note":{"type":"text","tag":"h3","text":"Data Validation"}}},{"id":16,"name":"validator","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/validator')","note":{"type":"expr","code":" import('https://esm.sh/validator')"}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))","note":{"type":"expr","code":" data.map(user => ({ ...user, validEmail: validator.default.isEmail(user.email) }))"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"### Data Processing","note":{"type":"text","tag":"h3","text":"Data Processing"}}},{"id":19,"name":"lodash","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= import('https://esm.sh/lodash')","note":{"type":"expr","code":" import('https://esm.sh/lodash')"}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= lodash.default.groupBy(data, 'plan')","note":{"type":"expr","code":" lodash.default.groupBy(data, 'plan')"}}}]}},"isCollapsed":true,"children":[]},{"id":2,"name":"Markdown","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Markdown","note":{"type":"text","tag":"h1","text":"Markdown"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"*`*italic*`*","note":{"type":"text","tag":"p","text":"*`*italic*`*"}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"**`**bold**`**","note":{"type":"text","tag":"p","text":"**`**bold**`**"}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`[a link](url)`","note":{"type":"text","tag":"p","text":"`[a link](url)`"}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"- Lists","note":{"type":"text","tag":"li","text":"Lists"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[ ] Todos","note":{"type":"checkbox","checked":false,"text":"Todos"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"[x] Done","note":{"type":"checkbox","checked":true,"text":"Done"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"`# Headings`","note":{"type":"text","tag":"p","text":"`# Headings`"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>","note":{"type":"text","tag":"p","text":"Inline <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\"><span className=\"relative text-blue-950\">Html with [tailwindcss](https://tailwindcss.com/docs/utility-first)</span></span>"}}}]}},"isCollapsed":true,"children":[]},{"id":3,"name":"Blocks","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"# Blocks","note":{"type":"text","tag":"h1","text":"Blocks"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks.","note":{"type":"text","tag":"p","text":"Blocks are the equivalent to cells in a spreadsheet. Most things in Tables are Blocks."}}},{"id":3,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":2,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas.","note":{"type":"text","tag":"p","text":"Every line here contains a `Note` Block, which allows writing Markdown or Formulas."}}},{"id":4,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:","note":{"type":"text","tag":"p","text":"A `Note` Block also allows using another Block, for example `JSExpr`. Type:"}}},{"id":5,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":false,"code":"blocks.JSExpr"}}},{"id":6,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"and hit ⌘`Enter` to use it:","note":{"type":"text","tag":"p","text":"and hit ⌘`Enter` to use it:"}}},{"id":7,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"// This is a JSExpr Block now\nfunction Mark({ children }) {\n  return (\n    <span className=\"before:block before:absolute before:-inset-0.5 before:-skew-y-1 before:bg-blue-100 relative inline-block\">\n      <span className=\"relative text-blue-950\">\n        {children}\n      </span>\n    </span>\n  )\n}\n\n<p>\n  <Mark>Look</Mark> at it!\n</p>"}}},{"id":8,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":9,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"All lines here are part of the `SheetOf` Block:","note":{"type":"text","tag":"p","text":"All lines here are part of the `SheetOf` Block:"}}},{"id":10,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":false,"code":"blocks.SheetOf(blocks.Note)"}}},{"id":11,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.SheetOf(blocks.Note)","note":{"type":"block","isInstantiated":true,"code":"blocks.SheetOf(blocks.Note)","state":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Now we have a Sheet inside a Sheet","note":{"type":"text","tag":"p","text":"Now we have a Sheet inside a Sheet"}}},{"id":1,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= $9.text","note":{"type":"expr","code":" $9.text"}}}]}}}},{"id":12,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":13,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":14,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)","note":{"type":"text","tag":"p","text":"There are other Blocks available in `blocks`. (Use completion/docs with ⌘`Space`/⌘`D`)"}}},{"id":15,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= blocks","note":{"type":"expr","code":" blocks"}}},{"id":16,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":17,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"## Custom Blocks","note":{"type":"text","tag":"h2","text":"Custom Blocks"}}},{"id":18,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more.","note":{"type":"text","tag":"p","text":"You can build your own blocks. For now you either have to shoot me a message or look at the source code of the existing blocks to find out more."}}},{"id":19,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}},{"id":20,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"Ok, I'll give you a small example:","note":{"type":"text","tag":"p","text":"Ok, I'll give you a small example:"}}},{"id":21,"name":"RAW","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/blocks.JSExpr","note":{"type":"block","isInstantiated":true,"code":"blocks.JSExpr","state":"tables.block.create({\n  init: \"\",\n  view({ state, update, env }, ref) {\n    return (\n      <textarea\n        ref={ref}\n        value={state}\n        onChange={ev => update(stateBefore => ev.target.value)}\n        />\n    )\n  },\n  recompute(state, update, env) {\n    return state\n  },\n  getResult(state) {\n    return state\n  },\n  fromJSON(json) {\n    return typeof json === 'string' ? json : ''\n  },\n  toJSON(state) {\n    return state\n  },\n})"}}},{"id":22,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":false,"code":"RAW"}}},{"id":23,"name":"rawText","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"/RAW","note":{"type":"block","isInstantiated":true,"code":"RAW","state":"{\n  \"test\": \"foo\",\n  \"bar\": 12\n}"}}},{"id":24,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"= JSON.parse(rawText)","note":{"type":"expr","code":" JSON.parse(rawText)"}}}]}},"isCollapsed":true,"children":[]}]}],"viewState":{"sidebarOpen":true,"openPage":[0]},"template":{"id":1,"name":"","state":{"t":"tables.selector","v":0,"mode":"run","expr":"SheetOf(Note)","inner":{"t":"tables.sheet","v":0,"lines":[{"id":0,"name":"","visibility":"block","state":{"t":"tables.note","v":0,"level":0,"input":"","note":{"type":"text","tag":"p","text":""}}}]}},"isCollapsed":true,"children":[]}}}